<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Memory Game</title>
    <style>
        body {
    font-family: 'Comic Sans MS', cursive, sans-serif;
    text-align: center;
    background: #000000;
}

h1 {
    color: #fdfbfb;
}

.game-container {
    display: flex;
    justify-content: center;
    margin-top: 20px;
}
.game-card {
      margin-top: 15px;
    padding: 10px 20px;
    font-size: 1em;
    background-color: #27ae60;
    color: rgb(247, 244, 244);
    border: none;
    cursor: pointer;
    border-radius: 5px;
    font-family: 'Comic Sans MS', cursive, sans-serif;
    }

    .game-card:hover {
      background-color: #2ecc71;
    }
#game-board {
    display: grid;
    grid-template-columns: repeat(4, 100px);
    grid-gap: 10px;
    background-color: rgb(167, 156, 156);
    padding: 20px;
    border-radius: 10px;
}
a {
  text-decoration: none;
}
.card {
    width: 100px;
    height: 100px;
    background-color: #3498db;
    color: white;
    font-size: 2rem;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    border-radius: 5px;
    transition: transform 0.3s;
    font-family: 'Comic Sans MS', cursive, sans-serif;
}

.card.flipped {
    background-color: #ecf0f1;
    color: #333;
    transform: rotateY(180deg);
}

#status {
    font-size: 1.2em;
    margin-top: 10px;
    font-family: 'Comic Sans MS', cursive, sans-serif;
}

#reset {
    margin-top: 15px;
    padding: 10px 20px;
    font-size: 1em;
    background-color: #27ae60;
    color: rgb(247, 244, 244);
    border: none;
    cursor: pointer;
    border-radius: 5px;
    text-underline-position: below;
    font-family: 'Comic Sans MS', cursive, sans-serif;
}

#reset:hover {
    background-color: #2ecc71;
}
#status {
    font-size: 1.2em;
    margin-top: 10px;
    color: white; /* Timer text color */
    font-family: 'Comic Sans MS', cursive, sans-serif;
}

#instruction-popup {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.85);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 999;
    color: white;
    font-size: 1.5rem;
    text-align: center;
    padding: 20px;
    font-family: 'Comic Sans MS', cursive, sans-serif;
}

#instruction-popup button {
    margin-top: 20px;
    padding: 10px 20px;
    font-size: 1rem;
    background-color: #27ae60;
    border: none;
    color: white;
    border-radius: 5px;
    cursor: pointer;
    font-family: 'Comic Sans MS', cursive, sans-serif;
}

.celebration {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 2rem;
    font-family: 'Comic Sans MS', cursive, sans-serif;
    color: #ff5733;
    background: #fff3e0;
    padding: 20px;
    border-radius: 10px;
    box-shadow: 0 0 15px rgba(255, 87, 51, 0.8);
    animation: popUp 1.5s ease-out;
}

@keyframes popUp {
    from {
        transform: translate(-50%, -50%) scale(0.8);
        opacity: 0.8;
    }
    to {
        transform: translate(-50%, -50%) scale(1);
        opacity: 1;
    }
}
    </style>
</head>
<body>
    <h1>Memory Game</h1>
    <div class="game-container">
        <div id="game-board"></div>
    </div>
    <p id="status"></p>
    <button id="reset">Restart Game</button>
    <a href="index.html" class="game-card">Quit</a>
    <div id="instruction-popup">
    <div>
        <p>üÉè Click and see what's behind the card.<br>Try to match all pairs before time runs out!</p>
        <button onclick="startGame()">Start Game</button>
    </div>
</div>

    <script>
        const symbols = ["üçé", "üçå", "üçá", "üçâ", "üçì", "üçí", "ü•ù", "üçç"];
let cards = [...symbols, ...symbols]; // Duplicate for pairs
let firstCard = null;
let secondCard = null;
let lockBoard = false;
let matches = 0;
let timer; // Timer variable for the countdown
let timeRemaining = 50; // Time in seconds

// Shuffle cards
function shuffle(array) {
    for (let i = array.length - 1; i > 0; i--) {
        let j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
    }
}

shuffle(cards);

// Create game board
const gameBoard = document.getElementById("game-board");
cards.forEach((symbol) => {
    const card = document.createElement("div");
    card.classList.add("card");
    card.dataset.symbol = symbol;
    card.innerHTML = ""; // Empty hidden state
    card.addEventListener("click", flipCard);
    gameBoard.appendChild(card);
});

// Celebration function
function celebrate() {
    const celebrationDiv = document.createElement("div");
    celebrationDiv.classList.add("celebration");
    celebrationDiv.innerText = "üéâ Match Found! üéâ";
    document.body.appendChild(celebrationDiv);

    // Remove the celebration effect after 1.5 seconds
    setTimeout(() => {
        celebrationDiv.remove();
    }, 1500);
}

// Flip card function
function flipCard() {
    if (lockBoard || this === firstCard) return;

    this.classList.add("flipped");
    this.innerHTML = this.dataset.symbol;

    if (!firstCard) {
        firstCard = this;
    } else {
        secondCard = this;
        lockBoard = true;

        if (firstCard.dataset.symbol === secondCard.dataset.symbol) {
            matches++;
            celebrate(); // Add celebration
            resetTurn();
            checkWin();
        } else {
            setTimeout(unflipCards, 1000);
        }
    }
}

// Unflip cards if not matched
function unflipCards() {
    firstCard.classList.remove("flipped");
    firstCard.innerHTML = ""; // Reset to empty hidden state
    secondCard.classList.remove("flipped");
    secondCard.innerHTML = ""; // Reset to empty hidden state
    resetTurn();
}

// Reset turn variables
function resetTurn() {
    firstCard = null;
    secondCard = null;
    lockBoard = false;
}

// Check if the player has won
function checkWin() {
    if (matches === symbols.length) {
        clearInterval(timer); // Stop the countdown
        document.getElementById("status").innerText = "üéâ You Win! üéâ";
    }
}

// Start the timer with a countdown
function startTimer() {
    const statusElement = document.getElementById("status");
    statusElement.innerText = `‚è≥ ${timeRemaining}s`;

    timer = setInterval(() => {
        timeRemaining--;
        statusElement.innerText = `‚è≥ ${timeRemaining}s`;

        if (timeRemaining <= 0) {
            clearInterval(timer); // Stop the timer
            statusElement.innerText = "‚è∞ Time's up! Game Over!";
            lockBoard = true; // Prevent further card flips
        }
    }, 1000); // Update every second
}

// Reset game
function resetGame() {
    clearInterval(timer); // Clear the previous timer
    timeRemaining = 60; // Reset the timer to 60 seconds
    gameBoard.innerHTML = "";
    matches = 0;
    document.getElementById("status").innerText = "";
    shuffle(cards);
    cards.forEach((symbol) => {
        const card = document.createElement("div");
        card.classList.add("card");
        card.dataset.symbol = symbol;
        card.innerHTML = ""; // Start with an empty hidden state
        card.addEventListener("click", flipCard);
        gameBoard.appendChild(card);
    });
    firstCard = null;
    secondCard = null;
    lockBoard = false;
    startTimer(); // Restart the timer
}

// Launch game after user clicks start
function startGame() {
    document.getElementById("instruction-popup").style.display = "none";
    startTimer();
}

// Reset button functionality
document.getElementById("reset").addEventListener("click", resetGame);



    </script>
</body>
</html>